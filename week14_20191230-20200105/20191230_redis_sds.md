## SDS

1. simple dynamic string:简单的动态字符串
   - char buf[]:字符数组用来保存字符串
   - free:记录buff数组中未使用的空间
   - len:记录buf数组中已使用空间的长度即字符串的长度
2. 为啥不使用c语言中字符串(注意事项:在c语言中最后一个字符存储为'\0'空字符串,预留空即可以使用c的字符串类库)
   - c语言中字符串不能直接获取长度,需要遍历完整个字符串后才知道长度时间复杂度O(n)
   - 杜绝了缓冲区溢出
     1. 比如在c语言中是有两个字符串a和b,如果a和b的存储空间是连续此时存储为 a '\0' b '\0',如果此时对a进行strcat(a,"Cluster"),如果粗心的没给a分配足够多的空间则会导致覆盖b的数据即缓冲区溢出
     2. SDS对字符串进行修改时,api会先检查sds的空间是否满足修改所需的要求,不满足则扩展空间大小
   - 字符串截取过程中,由于c的string对应的长度是固定的此时需要重新分配内存空间创建字符串然后回收旧字符串的空间不然会造成内存泄漏
3. 空间预分配:当对sds字符串修改时此时free和buff[]大小(当空间不够使用时才会分配否则直接使用)
   1. 当小于1M时free和len相等  比如len:13 free:13  此时buff[]  27字符串13个字符最后一个字符为空
   2. 大于1M则分配1M的free空间 比如某个字符串30M 此时free:1M  共 30M+1M+1byte
4. 二进制安全
   1. 普通c字符串存储时需要通过'\0''来知道字符串是否结束,那样存储不了文件 图片等信息
   2. sds字符串存储的是二进制的数组,不需要通过"\0"知道字符串是否结束通过len知道字符串的大小因此可以存储其他格式的数据 
5. 兼容部分的c的字符串函数("\0"结尾)