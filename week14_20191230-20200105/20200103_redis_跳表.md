## 跳表

![image-20200103195654345](https://note.youdao.com/yws/public/resource/4762addbbb207565dafe6a1264ea04a1/xmlnote/0D45891126414D11B5303011FB133B17/8997)

## zskiplist

1. 一个跳跃表由多个跳跃表节点组成
2. header:跳跃表的表头节点
3. tail:指向跳跃表的表尾节点
4. level:记录目前跳跃表内,层数最大的那个节点的层数比如tail的层数为L5
5. length:记录目前跳跃表的长度,目前3个跳跃表节点则length=3



## zskiplistNode

1. Level[] :标记L1 L2 L3 L4标记节点的各个层
2. BW:backward 后退指针,通过tail遍历bw为空为止即为header
3. 前进指针:level[i].forward 从表头向表尾方向访问节点
4. score:各个跳跃表中1.0 2.0 3.0,即通过查找时层的跨度,比如从L5层通过前驱指正找到尾节点跨度为3
5. obj:成员变量,存储是一个指针,指向一个字符串对象,而字符串对象保存的是一个SDS值



## 注意事项

1. 当分数相同时,排序按照字典的顺序排列,成员变量较小的排在前面