## mysql sql语句的执行过程

1. 连接器
   校验客户端的权限,比如用户账号密码是否正确,对应的库的操作权限,表的操作权限
   
   

2. 查询缓存
   执行sql语句的时,先判断查询缓存中是否存在相同的sql语句,存在直接返回结果(适合更新少的情况),缓存中以key-value的方式存储,key:代表sql语句  value:代表结果
   
   

3. 分析器
   分析sql语句先做词法分析:分析出字符串分表是什么代表的什么,比如select * from Twhere ID=1得到select代表查询语句,T代表表名,ID代表字段.接下来做语法分析:分析使用的关键词名称是否正确:比如select写成 elect,where写成 here;会提示:You have an error in your SQL syntax
   
   

4. 优化器
   比如sql是 join操作,优化器会确定先从主表还是从表取数据,使用的索引怎么选择即explain后的最后结果
   
   

5. 执行器
   1.执行器先判断该用户对当前表操作是否有权限

   2.判断查询缓存中是否存在(如果缓存中存在,会在缓存中返回结果之前做权限校验)
   3.调用存储引擎来执行sql,存储引擎执行sql先判断条件是否带有索引,没有索引则一行一行全表扫描;有索引则从innodb的普通索引二叉树查找到满足条件在判断是否需要回表查询
   
   

6. 当执行select * from 表 where column = 1  当前column在表中不存在的时候,会在那一个阶段报错?
   答案:分析器,在分析器进行词法分析的时候,识别出的column字段不在表中存在