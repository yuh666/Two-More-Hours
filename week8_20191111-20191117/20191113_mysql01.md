**一条SQL是如何执行的？**

答：执行SQL之前先与**连接器**建立连接；**分析器**分析SQL是否正确；**优化器**对SQL进行优化，比如索引最左原则；**执行器**会先校验权限然后执行SQL语句[^权限是在SQL语法分析之前进行的]。



**过了一晚上连接池中的连接突然不好用了，收到一个Lost connection to MySQL server during query？**

答：有可能是因为“mysql连接”的空闲时间超过了mysql中wait_time配置的时间。检查mysql的wait_time设置的时间，并根据当时服务的状态做判断。



**如果a、b、c是一组联合索引，以下sql是否会用到索引？**

`select * from T where b > 1 and c = 1 and a = 1; `

答：会用到。因为优化器对sql进行了优化，优化为`select * from T where a = 1 and b > 1 and c = 1;`。



**如何查看存在的连接？**

1. show processlist;



**如何查看是否开启了Mysql的缓存机制？**

1. show variables like "query_cache_type";



**如何查看慢查询日志？**

1. show variables like "slow_query_log%";

2. 去mysql服务器查看slow_query_log_file对应的文件查看。