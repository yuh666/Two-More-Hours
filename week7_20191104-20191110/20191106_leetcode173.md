```java
public class BSTIterator {

    private LinkedList<Integer> nodes = new LinkedList<>();

    public BSTIterator(TreeNode root) {
        forEach(root);
    }

    private void forEach(TreeNode node) {
        if (node == null)
            return;

        TreeNode left = node.left;
        if (left != null)
            forEach(left);
        nodes.addLast(node.val);
        TreeNode right = node.right;
        if (right != null)
            forEach(right);

    }


    public int next() {
        return nodes.isEmpty() ? -1 : nodes.pollFirst();
    }


    public boolean hasNext() {
        return !nodes.isEmpty();
    }
}
```