```java
class LRUCache {

    private Node root = new Node();
    private int capacity;
    private int size = 0;


    public LRUCache(int capacity) {
        this.capacity = capacity;
    }

    public int get(int key) {
        if (root.next == null) {
            return -1;
        }
        Node keyPrevNode = root;
        Node keyNode = root.next;
        while (keyNode != null && keyNode.key != key) {
            keyPrevNode = keyNode;
            keyNode = keyNode.next;
        }

        if (keyNode == null || keyNode.key != key) {
            return -1;
        }

        keyPrevNode.next = keyNode.next;
        keyNode.next = root.next;
        root.next = keyNode;

        return keyNode.val;
    }

    public void put(int key, int value) {
        if (root.next == null) {
            root.next = new Node(key, value);
            size++;
            return;
        }

        Node keyPrevNode = root;
        Node keyNode = root.next;
        while (keyNode.key != key) {
            if (keyNode.next == null) {
                break;
            }
            keyPrevNode = keyNode;
            keyNode = keyNode.next;
        }

        if (keyNode.key != key) {
            if (size >= capacity) {
                keyPrevNode.next = null;
                size--;
            }
            keyNode = new Node(key, value);
            keyNode.next = root.next;
            root.next = keyNode;
            size++;
            return;
        }

        keyPrevNode.next = keyNode.next;
        keyNode.next = root.next;
        root.next = keyNode;
        keyNode.val = value;
    }


    class Node {
        int key;
        int val;
        Node next;

        private Node() {
        }

        private Node(int key, int val) {
            this.key = key;
            this.val = val;
        }
    }
}

/**
 * Your LRUCache object will be instantiated and called as such:
 * LRUCache obj = new LRUCache(capacity);
 * int param_1 = obj.get(key);
 * obj.put(key,value);
 */
```