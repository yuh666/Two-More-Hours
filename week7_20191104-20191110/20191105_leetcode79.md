```java
package leetcode.L79;

import java.util.HashSet;
import java.util.Set;

public class Solution {
    public boolean exist(char[][] board, String word) {
        if (word == null || word.isEmpty())
            return false;

        char firstChar = word.charAt(0);
        Set<String> used = new HashSet<>();
        for (int y = 0; y < board.length; y++) {
            for (int x = 0; x < board[y].length; x++) {
                if (board[y][x] == firstChar) {
                    used.add(x + "-" + y);
                    boolean searchResult = searchPath(board, x, y, word.substring(1), used);
                    used.remove(x + "-" + y);
                    if (searchResult)
                        return true;
                }
            }
        }

        return false;
    }

    private boolean searchPath(char[][] board, int x, int y, String word, Set<String> used) {
        if (word.isEmpty())
            return true;
        char firstChar = word.charAt(0);

        // 上
        if (y - 1 >= 0 && y - 1 <= board.length - 1 && board[y - 1][x] == firstChar && !used.contains(x + "-" + (y - 1))) {
            used.add(x + "-" + (y - 1));
            boolean searchResult = searchPath(board, x, y - 1, word.substring(1), used);
            used.remove(x + "-" + (y - 1));
            if (searchResult) {
                return true;
            }
        }
        // 右
        if (x + 1 >= 0 && x + 1 <= board[y].length - 1 && board[y][x + 1] == firstChar && !used.contains((x + 1) + "-" + y)) {
            used.add((x + 1) + "-" + y);
            boolean searchResult = searchPath(board, x + 1, y, word.substring(1), used);
            used.remove((x + 1) + "-" + y);
            if (searchResult) {
                return true;
            }
        }
        // 下
        if (y + 1 >= 0 && y + 1 <= board.length - 1 && board[y + 1][x] == firstChar && !used.contains(x + "-" + (y + 1))) {
            used.add(x + "-" + (y + 1));
            boolean searchResult = searchPath(board, x, y + 1, word.substring(1), used);
            used.remove(x + "-" + (y + 1));
            if (searchResult) {
                return true;
            }
        }
        // 左
        if (x - 1 >= 0 && x - 1 <= board[y].length - 1 && board[y][x - 1] == firstChar && !used.contains((x - 1) + "-" + y)) {
            used.add((x - 1) + "-" + y);
            boolean searchResult = searchPath(board, x - 1, y, word.substring(1), used);
            used.remove((x - 1) + "-" + y);
            if (searchResult) {
                return true;
            }
        }

        return false;
    }

    public static void main(String[] args) {
        char[][] board = {{'a', 'a', 'a', 'a'}, {'a', 'a', 'a', 'a'}, {'a', 'a', 'a', 'a'}};

        Solution solution = new Solution();
        boolean aaa = solution.exist(board, "aaaaaaaaaaaaa");
        System.out.println(aaa);
    }


}

```